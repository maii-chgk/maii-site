# Структура проекта

- `cms` — Strapi, это админка и API для UI
- `ui` — проект на 11ty, генерирует статический (!) сайт на основании данных из CMS

# Как всё работает в продакшне

Код лежит в приватном репозитории в GH

БД — MongoDB в официальном облаке Mongo Atlas

CMS задеплоена на Heroku https://oz-site-cms.herokuapp.com/, настроен автодеплой при коммите

UI задеплоен на Vercel https://oz-site.vercel.app/, настроен автодеплой при коммите

Также настроен редеплой UI при внесении изменений в CMS (через прод инстанс) — через вебхук. Редеплой занимает обычно пару минут

# Как управлять _структурой_ данных CMS

Для этого проект нужно запустить локально

- В папке `cms` создать файл `.env`
- В нём указать доступ к продакшн БД `DATABASE_URI=` (спросить у Миротина)
- Сделать `yarn install`, `yarn dev`
- Открыть админку и авторизоваться своим логином/паролем
- Отредактировать схему через UI
- Коммитнуть изменения схемы (файлы проекта) и сделать git push

Если структура влияет на UI, то изменения нужно коммитнуть вместе.
